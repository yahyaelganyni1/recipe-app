  <%= link_to "Back to recipes", recipes_path, class:"btn btn-info m-2" %>
<p style="color: green"><%= notice %></p>
<%= render @recipe %>
<div>
  <% if can? :manage, @recipe %>
    <%= button_to "Delete", @recipe, method: :delete, class:"btn btn-danger" %>
  <%end%>
</div>
<% if can? :manage, @recipe %>
  <%= form_with(model: @recipe) do |form| %>
    <div class="custom-control custom-switch">
      <%= form.check_box :public, onchange: "this.form.submit();" %>
    </div>
  <% end %>
<%end%>
<div class="flex justify-content-between">
  <%= link_to "Generate shopping list", new_shopping_list_path,  class:"btn btn-success m-2"%>
  <%= link_to "Add ingredint", "#{@recipe.id}/recipe_food/new",  class:"btn btn-success m-2"%>
</div>
<div class="table-wrapper">
  <table class="fl-table">
    <thead>
      <tr>
        <th scope="col">food</th>
        <th scope="col">quantity </th>
        <th scope="col">price</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <% @recipe.foods.each do |food|%>
        <tr>
          <th> <%= food.name%> </th>
          <th> <%= food.recipe_foods.find_by(recipe_id: @recipe.id).quantity%> </th>
          <th> <%= food.price%> $</th>
          <th> <%= button_to "Remove ingredient", recipe_recipe_food_path(recipe_id: @recipe.id, id: food.recipe_foods.find_by(recipe_id: @recipe.id).id), method: :delete , class:"btn btn-success"%></th>
        </tr>
      <%end%>
    </tbody>
  </table>
</div>
